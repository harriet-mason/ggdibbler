<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>The philosophy of ggdibbler • ggdibbler</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="The philosophy of ggdibbler">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggdibbler</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/A_how-to-guide.html">Get started with ggdibbler</a></li>
    <li><a class="dropdown-item" href="../articles/B_ggdibbler-philosophy.html">The philosophy of ggdibbler</a></li>
    <li><a class="dropdown-item" href="../articles/C_random-plots.html">Unexpected behaviour of random plots</a></li>
    <li><a class="dropdown-item" href="../articles/D_extender-info.html">Help for ggplot extenders</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/harriet-mason/ggdibbler/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>The philosophy of ggdibbler</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/harriet-mason/ggdibbler/blob/main/vignettes/B_ggdibbler-philosophy.Rmd" class="external-link"><code>vignettes/B_ggdibbler-philosophy.Rmd</code></a></small>
      <div class="d-none name"><code>B_ggdibbler-philosophy.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="the-ggdibbler-philosophy">The <code>ggdibbler</code> philosophy<a class="anchor" aria-label="anchor" href="#the-ggdibbler-philosophy"></a>
</h2>
<p>Twenty-five years ago Leeland Wilkinson said that the framework
described every statistics visualisation you could possibly make, and
and 25 years later it still seems like half the field of visualisation
doesn’t believe him. This section is here to correct this
misunderstanding. We will explain what <em>we</em> mean when we talk
about uncertainty visualisation and how the <code>ggdibbler</code>
approach came to be so flexible, powerful, and effective.</p>
<p>Since <code>ggdibbler</code> is so flexible, it has the ability to
generate a <em>lot</em> of graphics, many of which the authors of this
package have never seen before despite writing the software. Some of
these graphics already exist in the literature, and some don’t. If any
plot that <code>ggdibbler</code> makes looks familiar to you, it is due
to it being a subset of the signal suppression philosophy, rather than
through any conscious choices by us.</p>
</div>
<div class="section level2">
<h2 id="how-ggdibbler-works">How <code>ggdibbler</code> works<a class="anchor" aria-label="anchor" href="#how-ggdibbler-works"></a>
</h2>
<p>As powerful as the <code>ggdibbler</code> package is, the actual
implementation is shockingly simple. The entire package could be a
single R file if we could have implemented it as a layer extension, but
the <code>ggplot2</code> team do not export it, so here we are. The main
brunt of the package is literally three very simple operations.</p>
<ol style="list-style-type: decimal">
<li>It takes your distribution variables and does n resamples
(controlled by <code>times</code> in the package)</li>
<li>It then groups by the interaction of the usual <code>ggplot2</code>
groups and <code>drawID</code> (an ID number for the draw each value
comes from)</li>
<li>It feeds this altered data through the ggplot pipeline you specified
in your code (i.e. scale, stat, position, geom, coord, and theme)</li>
</ol>
<p>These three components each answer a related question about how we
want to quantify/visualise our data.</p>
<ol style="list-style-type: decimal">
<li>Statistic nesting: What is the quantified representation of your
distribution (e.g. samples, quantiles, etc)?</li>
<li>Grouping structure: Do you want to visualise your uncertainty as
signal (group by the distribution) or as noise (group by the draws)</li>
<li>Position nesting: How are managing you managing the over plotting
created by replacing a single value with a large sample of values
(e.g. layering and setting <code>alpha &lt; 1</code>, using a
<code>position_dodge</code>, etc)?</li>
</ol>
<p>The entire package is made by nesting the already existing grammar.
There is exactly <em>one</em> new feature we implemented that is not a
variation of what was already in <code>ggplot</code> and that is the
<code>position_subdivide</code> based on the Vizumap’s pixel map. The
only reason we had to implement that was because
<code>position_dodge</code> doesn’t work on SF objects or polygons
(although we think they should). Three parts of the grammar that needed
to be nested to implement ggdibbler, these are:</p>
<ol style="list-style-type: decimal">
<li>A nested scale that scales the domain of the distribution while
keeping it a random variable</li>
<li>A nested statistic that takes draws from your distribution to
represent it as visible data</li>
<li>The nested position adjustment that is used to separately control
the overplotting in the original plot and the over plotting in the from
the sample.</li>
</ol>
<p>Choosing to nest the scale, stat, and position might seem like an odd
choice, but that seemed to be the minimum number of nestings to get
<code>ggdibbler</code> to work as intended.</p>
<p>As ggplot is build for a nested grammar (with it’s parent/child
ggproto system) making the nested elements was rather straight forward,
although it was far too tedious to implement it with every stat, scale,
and position. So even within this subset of grammar elements
<code>ggdibbler</code> does not implement a full nested version of them.
The package would be greatly expanded by a full nested positioning
system and having a quantile variation of all the
<code>stat_*_sample</code> functions, but these features will take time.
This is also not the limit of where we could take this idea.
Theoretically we could also nest recursively (i.e. nest a random
variable inside a random variable and plot it with a position nested
inside a nested position). A random variable nested inside a random
variable is actually how you could make a <code>ggdibbler</code> version
of a <code>ggdist</code> graphic, but this is all beyond the current
scope of the package.</p>
</div>
<div class="section level2">
<h2 id="what-is-uncertainty-visualisation">What is uncertainty visualisation?<a class="anchor" aria-label="anchor" href="#what-is-uncertainty-visualisation"></a>
</h2>
<p>Gather around children and let us tell you the philosophical
underpinnings of our uncertainty visualisation package. The long version
of the approach (which is actually think it is a good read despite being
a paper) is written up in the a preprint <a href="https://arxiv.org/abs/2411.10482" class="external-link">here</a>. A shorter version of
it was given as a talk at UseR!2025 <a href="https://www.youtube.com/watch?v=gqhgD997PzY" class="external-link">available here</a>.
The cliff notes version of these explanations is what makes up this
section.</p>
<p>Exactly “what” uncertainty visualisation is, seems to be hard to pin
down. There are two competing philosophies of uncertainty
visualisation.</p>
<ol style="list-style-type: decimal">
<li>Uncertainty visualisation is any visualisation of an uncertainty
statistic. This can be a variance, error, density function, probability,
standard error, etc.</li>
<li>Uncertainty visualisation is a function of an existing graphic,
where uncertainty is integrated into the plot in such a way that it
prevents us from taking away false or misleading signals.</li>
</ol>
<p>The difference between these philosophies is exactly what we are
drawing inference on. If we are trying to understand something about the
uncertainty or random variable itself, then the “signal” we are trying
to extract from our graphic <em>is</em> the uncertainty information, so
should opt for approach (1). If we are trying to draw inference on a
different statistic and we want to see how the uncertainty in our
observations increase of decrease the legitimacy of that take away, then
we want to visualise uncertainty as noise and should opt for approach
(2).</p>
<p>This distinction can be difficult to wrap your head around and often
uncertainty visualisation researchers mix and match the two approaches
without even realising it. To help you understand the difference, look
at the two density visualisations below. If we feed a vector of
uncertain values into a <code>geom_density</code> function what kind of
visualisation should it spit out? Are we interested in the uncertainty
of each individual cell or are we only interested in the uncertainty as
a collective and want to see how it changes the plot that would have
been made, had we fed in point estimates instead?</p>
<p>To show you the difference between these two approaches, we created
the plots below. Both plots ask the same question: If you pass a vector
of 15 distributions into a geom_density, what should it look like?. Do
you want to see each individual distribution or do you only care about
each individual distribution insofar as they impact the density of the
vector? If you are interested in each distribution you are visualising
uncertainty as signal and should use <code>ggdist</code>, if you only
care about the impact on the vector density, you are visualising
uncertainty as noise and should use <code>ggdibbler</code>.</p>
<p><img src="B_ggdibbler-philosophy_files/figure-html/unnamed-chunk-2-1.png" class="r-plt" width="768"></p>
<p>We are not particularly interested in visualising uncertainty as
signal, it is already covered by <code>ggdist</code> and other packages.
The questions uncertainty as signal visualisations seek to answer are
largely about behavioural/psychological effects and it is unclear if
there are any visualisation specific questions for the field to answer.
Additionally, calling these visualisation “uncertainty visualisations”
implies that we should define a plot by its underlying statistics,
something we don’t do for any other type of statistic (e.g. central
measures or extreme values) so it is unclear why this approach was taken
for uncertainty. Regardless, it is not what <code>ggdibbler</code>
does.</p>
<p>Unlike visualising uncertainty as signal, visualising uncertainty as
noise <em>does</em> pose an interesting visualisation question.
Specifically it asks “how do we translate statistical validity into
something we can see with our eyes”. Discussions around visualising
uncertainty as noise often seem to believe that we should design
visualisations such that signals with high certainty (i.e. statistical
validity) should be visible, while signals with low uncertainty should
be invisible (or at least harder to see). That is, the statistical
validity should translate to perceptual ease.</p>
<p>We decided to call this goal “signal suppression” in reference to one
of the few papers that seemed to consistently apply the “visualising
uncertainty as noise” philosophy, <a href="https://dl.acm.org/doi/10.1145/3173574.3174216" class="external-link">Value Supressing
Uncertainty Palettes</a>. The only reason we didn’t call it value
suppression, is because we are not actually suppressing any individual
values, but rather the “plot level” take away.</p>
<p>This signal suppression philosophy implies three things about
uncertainty visualisation. First, that the “units” of an uncertainty
visualisation are distributions; second that uncertainty visualisations
are random variables with limiting statistics; and finally that the
integrations of the uncertainty should “interfere” with the signal we
take from the plot. The rest of this section will investigate each of
these ideas in more detail.</p>
</div>
<div class="section level2">
<h2 id="random-variables-as-units-in-distributional">Random variables as “units” in <code>distributional</code><a class="anchor" aria-label="anchor" href="#random-variables-as-units-in-distributional"></a>
</h2>
<p>For a plot to incorporate “uncertainty” the said uncertainty must
come from…. somewhere. So where is it coming from? The implication is
that the “data” that is fed into an uncertainty visualisation is not
standard deterministic data points but rather, random variables. That is
to say, instead of each cell being a single value represented by a
number, it is a single random variable represented by a
distribution.</p>
<p>We implement this structure using <code>distributional</code>, and we
give some details on how to use it in the getting started vignette, this
section is going to focus on why we sue distributions instead of an
estimate and it’s standard error which is more common in uncertainty
visualisation literature.</p>
<p>During the 2024 EBS End of Year BBQ I asked Mitch if he would be
willing add a estimate/standard error option to distributional. He
looked at me with a kind of “???” face (in hindsight, a very valid
response) and made several points that fully convinced me
<code>ggdibbler</code> should only accept distributions. While this
might sound like he was just trying to plug his software, the points
were very legitimate. This section is basically a summary of that
conversation and I think it is worth a read if you think you should be
able to pass an estimate and its standard error to an uncertainty
visualisation.</p>
<p>Only allowing distributions may feel like a restrictive choice, but
it is actually far more freeing than any alternative. Every single time
you make a plot in <code>ggdibbler</code>, you must draw samples
<em>some</em> distribution. We don’t care what that distribution is, but
it <em>must</em> be a distribution. If I removed the requirement for you
to pass a distribution, I would still need to <em>sample</em> from a
distribution, so what exactly am I supposed to sample from? Do you want
us us run around our neighbourhoods asking passer-bys to shout numbers
at us that “feel about this close” to your estimate? Being
<em>ignorant</em> to the distribution you are drawing information from
does not mean you <em>aren’t</em> drawing from a distribution.</p>
<p>You might argue that you can “just default to a normal distribution”
but it is arguably more annoying (and more confusing) to pass
<code>aes(colour= c(estimate = mu, st_error = sigma))</code> instead of
<code>aes(colour = dist_normal(mu, sigma))</code> to your plot. If you
want <code>ggdibbler</code> to just default to a normal distribution,
<em>you</em> can just default to a normal distribution.</p>
<p>The reality is, the estimate and standard error option is more
conceptually convoluted, harder to read, less transparent in what it is
doing, gives you less control, <em>and</em> it takes longer to type. If
you read this and would still prefer a standard error and an estimate
over a distribution, I suspect you are looking to obfuscate your
analysis from yourself, and I don’t think good software will assist you
in that. If you want to live in delusion, fine, but
<code>ggdibbler</code> won’t help you do it.</p>
</div>
<div class="section level2">
<h2 id="uncertainty-visualisations-as-random-variable">Uncertainty visualisations as random variable<a class="anchor" aria-label="anchor" href="#uncertainty-visualisations-as-random-variable"></a>
</h2>
<p>If we accept that the units of an uncertainty visualisation are
random variables, then visualisation is a function of random variables,
and therefore a random variable in of itself. If it is some kind of
estimate, then that means it should have some statistical properties
such as limiting distirbutions, bias/variance trade off, etc. This
section is about how we achieve these properties.</p>
<p>When discussing “normal” random variables, we often discuss the point
prediction as the “end result”, but the uncertainty visualisation
conversation seems to occur in the opposite direction. We frame the
uncertainty as something that needs to be added “back in” to the point
prediction. If you understand uncertainty as a random variable, this
framework is rather nonsensical. It would be equivalent to giving a
statistician a point estimate and asked them to “add the uncertainty
back in”. The reality is, it isn’t possible to do and you shouldn’t have
dropped the uncertainty in the first place.</p>
<p>While you cannot “add uncertainty” back into a point estimate, it is
true that every uncertainty visualisation has a point estimate
counterpart. That visualisation is not the starting point, but the
limiting statistic of an uncertainty visualisation. Basically, we are
looking at the continuous mapping theorem for visual statistics, which
would certainly be an interesting property for our visualisation to
have. As the variance in your random variable drops to zero and your
distribution approaches some point estimate, the uncertainty
visualisation should also approach the visualisation of said point
estimate. This approach also works for convergence to another random
variable, but this would require comparing <code>ggdibbler</code> to
<code>ggdibbler</code>, which is not as useful of a frameowork for
validating the uncertainty visualisaitons.</p>
<p>To formalise this a bit more, lets say that
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>X</mi><mi>n</mi></msub><mo>,</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">{X_n}, X</annotation></semantics></math>
is a series of random variables, and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>x</mi><annotation encoding="application/x-tex">x</annotation></semantics></math>
is a constant such that
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo>lim</mo><mrow><mi>n</mi><mo>→</mo><mi>∞</mi></mrow></msub><msub><mi>X</mi><mi>n</mi></msub><mo>=</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">\lim_{n \to \infty} X_n = x</annotation></semantics></math>.
Additionally let
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>V</mi><annotation encoding="application/x-tex">V</annotation></semantics></math>
be the visualisation function that translates our data to a statistical
graphic (be it random variable or not). Then our visualisation approach
obeys continuous mapping theorem if
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mo>lim</mo><mrow><mi>n</mi><mo>→</mo><mi>∞</mi></mrow></msub><mi>V</mi><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>X</mi><mi>n</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mi>V</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>x</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\lim_{n \to \infty} V(X_n) = V(x)</annotation></semantics></math>.</p>
<p>Now, we would argue that the purest way to check convergence in a
visualisation is not actually a formal maths proof but…um… just looking
at it? As that is the final level of computation, looking at it with
your eyes. If you are unable to tell the difference between the two
graphics, then I would argue that you have convergence in visual
statistics.</p>
<p>Achieving this continuous mapping property is also why we needed to
implement the nested position system. The nested scale and statistic are
required for us to pass in distributions and represent them as samples,
but these two elements alone are not sufficient to achieve the
continuous mapping property. You can see why in the example below, where
he show that the standard <code>ggplot2</code> position is insufficient
to capture the random variable’s grouping structure.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">catdog</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>    DogOwner <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>, <span class="fl">25</span>, replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    CatOwner <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>, <span class="fl">25</span>, replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">random_catdog</span> <span class="op">&lt;-</span> <span class="va">catdog</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    DogOwner <span class="op">=</span> <span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_bernoulli.html" class="external-link">dist_bernoulli</a></span><span class="op">(</span><span class="fl">0.1</span> <span class="op">+</span> <span class="fl">0.8</span><span class="op">*</span><span class="va">DogOwner</span><span class="op">)</span>,</span>
<span>  <span class="op">)</span></span>
<span>    </span>
<span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">catdog</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">DogOwner</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/geom_bar_sample.html">geom_bar_sample</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">CatOwner</span><span class="op">)</span>, </span>
<span>                  position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_dodge.html" class="external-link">position_dodge</a></span><span class="op">(</span>preserve<span class="op">=</span><span class="st">"single"</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme_few</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position<span class="op">=</span><span class="st">"none"</span>, aspect.ratio <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"ggplot: dodge"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">random_catdog</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">DogOwner</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/geom_bar_sample.html">geom_bar_sample</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">CatOwner</span><span class="op">)</span>, times<span class="op">=</span><span class="fl">30</span>,</span>
<span>                  position <span class="op">=</span> <span class="st">"dodge_dodge"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_few</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position<span class="op">=</span><span class="st">"none"</span>, aspect.ratio <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"ggdibbler: dodge_dodge"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">random_catdog</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">DogOwner</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/geom_bar_sample.html">geom_bar_sample</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">CatOwner</span><span class="op">)</span>,  times<span class="op">=</span><span class="fl">30</span>,</span>
<span>                  position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_dodge.html" class="external-link">position_dodge</a></span><span class="op">(</span>preserve<span class="op">=</span><span class="st">"single"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_few</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position<span class="op">=</span><span class="st">"none"</span>, aspect.ratio <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"ggdibbler: dodge"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">random_catdog</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">DogOwner</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/geom_bar_sample.html">geom_bar_sample</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">CatOwner</span><span class="op">)</span>,  times<span class="op">=</span><span class="fl">30</span>,</span>
<span>                  position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_dodge.html" class="external-link">position_dodge</a></span><span class="op">(</span>preserve<span class="op">=</span><span class="st">"single"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_few</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position<span class="op">=</span><span class="st">"none"</span>, aspect.ratio <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"ggdibbler: dodge"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p1</span> <span class="op">|</span> <span class="va">p3</span> <span class="op">|</span> <span class="va">p2</span></span></code></pre></div>
<p><img src="B_ggdibbler-philosophy_files/figure-html/dodgebarchart-1.png" class="r-plt" width="1152"></p>
<p>The continuous mapping property should always holds regardless of
what random variable you are mapping, or how it is represented. From
what we have seen, this property has been very consistent in
<code>ggdibbler</code>. It should always work regardless of which
aesthetic you map your variables to (if you make a plot where you
believe it doesn’t, please let us know with a github issue). Below are
two examples that illustrate this principle. The text plot consists of
deterministic x and y values, but a random TRUE/FALSE value. When the
variance is high we cannot tell the difference between true and false as
they are literally a 50/50 coin flip, but as the variance of each random
variable drops to 0, the visualisation gets easier to read and it
approaches its <code>ggplot2</code> deterministic counterpart.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">textdata</span> <span class="op">&lt;-</span> <span class="fu">expand_grid</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span>, y<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    z0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>, <span class="fl">25</span>, replace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    z1 <span class="op">=</span> <span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_bernoulli.html" class="external-link">dist_bernoulli</a></span><span class="op">(</span><span class="fl">0.1</span> <span class="op">+</span> <span class="fl">0.8</span><span class="op">*</span><span class="va">z0</span><span class="op">)</span>,</span>
<span>    z2 <span class="op">=</span> <span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_bernoulli.html" class="external-link">dist_bernoulli</a></span><span class="op">(</span><span class="fl">0.3</span> <span class="op">+</span> <span class="fl">0.4</span><span class="op">*</span><span class="va">z0</span><span class="op">)</span>,</span>
<span>    z3 <span class="op">=</span> <span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_bernoulli.html" class="external-link">dist_bernoulli</a></span><span class="op">(</span><span class="fl">0.5</span><span class="op">)</span>,</span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">textplot</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">var</span>, <span class="va">alpha</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">textdata</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span>, lab<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/get.html" class="external-link">get</a></span><span class="op">(</span><span class="va">var</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># ggplot(textdata, aes(x=x, y=y, lab=get(var))) +</span></span>
<span>           <span class="fu"><a href="../reference/geom_text_sample.html">geom_text_sample</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html" class="external-link">after_stat</a></span><span class="op">(</span><span class="va">lab</span><span class="op">)</span><span class="op">)</span>, </span>
<span>                            size<span class="op">=</span><span class="fl">4</span>, alpha<span class="op">=</span><span class="va">alpha</span>, times<span class="op">=</span><span class="fl">30</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_colour_viridis_d</a></span><span class="op">(</span>option<span class="op">=</span><span class="st">"rocket"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>           <span class="co">#scale_colour_manual(values = c("steelblue", "firebrick")) +</span></span>
<span>           <span class="fu">theme_few</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>           <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>aspect.ratio <span class="op">=</span> <span class="fl">1</span>, legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> </span>
<span><span class="op">}</span></span>
<span><span class="va">p0</span> <span class="op">&lt;-</span> <span class="fu">textplot</span><span class="op">(</span><span class="st">"z0"</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Point Estimate"</span><span class="op">)</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu">textplot</span><span class="op">(</span><span class="st">"z1"</span>, <span class="fl">0.05</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Binomial with p = 0.9 or 0.1"</span><span class="op">)</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu">textplot</span><span class="op">(</span><span class="st">"z2"</span>, <span class="fl">0.05</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Binomial with p = 0.3 or 0.7"</span><span class="op">)</span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu">textplot</span><span class="op">(</span><span class="st">"z3"</span>, <span class="fl">0.05</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Binomial with p = 0.5"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="op">(</span><span class="va">p3</span> <span class="op">|</span> <span class="va">p2</span> <span class="op">|</span> <span class="va">p1</span> <span class="op">|</span> <span class="va">p0</span><span class="op">)</span></span></code></pre></div>
<p><img src="B_ggdibbler-philosophy_files/figure-html/textplot-1.png" class="r-plt" width="1536"></p>
<p>In the second example, we use a <code>geom_tile</code> and map the
uncertain variable to colour. We notice the same trend of the
visualisation approaching it’s limiting statistic, the
<code>ggplot2</code> counterpart.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tiledata</span> <span class="op">&lt;-</span> <span class="fu">expand_grid</span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    z0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    z1 <span class="op">=</span> <span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_normal.html" class="external-link">dist_normal</a></span><span class="op">(</span><span class="va">z0</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>    z2 <span class="op">=</span> <span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_normal.html" class="external-link">dist_normal</a></span><span class="op">(</span><span class="va">z0</span>, <span class="fl">8</span><span class="op">)</span>,</span>
<span>    z3 <span class="op">=</span> <span class="fu"><a href="https://pkg.mitchelloharawild.com/distributional/reference/dist_normal.html" class="external-link">dist_normal</a></span><span class="op">(</span><span class="va">z0</span>, <span class="fl">30</span><span class="op">)</span>,</span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">p5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">tiledata</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html" class="external-link">geom_tile</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill<span class="op">=</span><span class="va">z0</span><span class="op">)</span>, times<span class="op">=</span><span class="fl">30</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html" class="external-link">geom_tile</a></span><span class="op">(</span>colour<span class="op">=</span><span class="st">"white"</span>, fill<span class="op">=</span><span class="cn">NA</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">theme_few</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_fill_viridis_c</a></span><span class="op">(</span>option<span class="op">=</span><span class="st">"rocket"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>aspect.ratio <span class="op">=</span> <span class="fl">1</span>, legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Point Estimate"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in geom_tile(aes(fill = z0), times = 30): Ignoring unknown</span></span>
<span><span class="co">#&gt; parameters: `times`</span></span>
<span></span>
<span><span class="va">p6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">tiledata</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_tile_sample.html">geom_tile_sample</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill<span class="op">=</span><span class="va">z1</span><span class="op">)</span>, times<span class="op">=</span><span class="fl">30</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html" class="external-link">geom_tile</a></span><span class="op">(</span>colour<span class="op">=</span><span class="st">"white"</span>, fill<span class="op">=</span><span class="cn">NA</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">theme_few</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_fill_viridis_c</a></span><span class="op">(</span>option<span class="op">=</span><span class="st">"rocket"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>aspect.ratio <span class="op">=</span> <span class="fl">1</span>, legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Normal with sigma = 2"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p7</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">tiledata</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_tile_sample.html">geom_tile_sample</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill<span class="op">=</span><span class="va">z2</span><span class="op">)</span>, times<span class="op">=</span><span class="fl">30</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html" class="external-link">geom_tile</a></span><span class="op">(</span>colour<span class="op">=</span><span class="st">"white"</span>, fill<span class="op">=</span><span class="cn">NA</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">theme_few</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_fill_viridis_c</a></span><span class="op">(</span>option<span class="op">=</span><span class="st">"rocket"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>aspect.ratio <span class="op">=</span> <span class="fl">1</span>, legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span>  <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Normal with sigma = 8"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p8</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">tiledata</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">x</span>, y<span class="op">=</span><span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_tile_sample.html">geom_tile_sample</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill<span class="op">=</span><span class="va">z3</span><span class="op">)</span>, times<span class="op">=</span><span class="fl">30</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_tile.html" class="external-link">geom_tile</a></span><span class="op">(</span>colour<span class="op">=</span><span class="st">"white"</span>, fill<span class="op">=</span><span class="cn">NA</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">theme_few</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_fill_viridis_c</a></span><span class="op">(</span>option<span class="op">=</span><span class="st">"rocket"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>aspect.ratio <span class="op">=</span> <span class="fl">1</span>, legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span>  <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Normal with sigma = 20"</span><span class="op">)</span></span>
<span></span>
<span><span class="op">(</span><span class="va">p8</span> <span class="op">|</span> <span class="va">p7</span> <span class="op">|</span> <span class="va">p6</span> <span class="op">|</span> <span class="va">p5</span><span class="op">)</span></span></code></pre></div>
<p><img src="B_ggdibbler-philosophy_files/figure-html/tileplot-1.png" class="r-plt" width="1536"></p>
<p>Therefore, every <code>ggdibbler</code> visualisation should have a
<code>ggdplot2</code> version, that represents its limiting statistic
(or specifically what the plot would approach as the variance of the
random variable approaches zero). This is subtly communicated in the
package using the code syntax. The code of a <code>ggdibbler</code> plot
and it’s deterministic limit will be identical, except you replace
<code>geom_*</code> with <code>geom_*_sample</code>. If you feed values
into <code>geom_*_sample</code> that are deterministic (i.e. random
variables with a variance of 0) you will also get the same
<code>ggplot2</code> visualisation. This limiting property is also
conveyed using the examples which always present in the
<code>ggdibbler</code> documentation alongside their <code>ggplot</code>
counterpart.</p>
<p>Not only does every <code>ggdibbler</code> plot have a
<code>ggplot2</code> counterpart, but the reverse is also true. We tried
to communicate this by replicating the <code>ggplot2</code>
documentation exactly as it appears in <code>ggdibbler</code>. Most of
it is cut for the sake of computation time (we are technically replacing
every example with two examples) but when testing the package we
replicated every <code>ggplot2</code> example.</p>
</div>
<div class="section level2">
<h2 id="visual-interference-and-emergent-aesthetics">Visual interference and emergent aesthetics<a class="anchor" aria-label="anchor" href="#visual-interference-and-emergent-aesthetics"></a>
</h2>
<p>The final element of the <code>ggdibbler</code> approach is the idea
that the uncertainty <em>should</em> interfere with your ability to read
the plot.</p>
<p>For invalid signals to become invisible, you <em>must</em> give your
noise the ability to interfere with your reading of the plot. This is
the opposite approach we typically have when mapping variables. Usually,
when plotting two variables, we want the second variable <em>not</em> to
interfere. If we are plotting height and age, we don’t want values that
are particularly high on age to have an impossible to read height.
However, that desire for visual independence is born from variable
independence. This assumption no longer holds in the case of uncertainty
and estimate. In the case of an estimate and it’s uncertainty the
variables aren’t even different variables, they are two parameters of
the same distribution.</p>
<p>Samples allow us to see a distribution as a single variable, rather
than as two disjoint variables. Not only does this give us the
interference we are looking for but it also allows us to keep the same
scales as the point estimate. Technically quantiles would also fit the
bill but implementing those in <code>ggdibbler</code> is a future
project. This obviously means that <code>ggdibbler</code> never actually
controls or maps any special uncertainty aesthetics, however when
scrolling through the documentation you will notice that they still
appear. The package is full of cases where uncertainty appears as blur,
transparency, thickness, fuzziness or some other commonly referenced
uncertainty aesthetic, but none of them are directly mapped by us, so
where are they coming from?</p>
<p>This fact implies that some aesthetics are “emergent” aesthetics, as
they can be generated through the combination of other mappings, while
some aesthetics are primary aesthetics and will only appear in our plot
if directly mapped. Any general investigation into primary vs
secondary/emergent aesthetics is beyond the scope of this package but we
have noticed some interesting variations when making
<code>ggdibbler</code>. For example, blur and fuzziness seem to have an
unexpected distinction. It appears as though blur is the combination of
transparency and uncertaity in position, while fuzziness is the
combination of transparency and uncertainty in size. Below are two
examples from the <code>ggdibbler</code> documentation that highlight
this difference.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># examples from ggdibbler</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">uncertain_mtcars</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">mpg</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_dotplot_sample.html">geom_dotplot_sample</a></span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fl">1.5</span>, alpha<span class="op">=</span><span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>aspect.ratio <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme_few</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Blur in geom_dotplot"</span><span class="op">)</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">uncertain_mpg</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">cty</span>, <span class="va">hwy</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/geom_count_sample.html">geom_count_sample</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.05</span>, times<span class="op">=</span><span class="fl">30</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>aspect.ratio <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">theme_few</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Fuzziness in geom_count"</span><span class="op">)</span></span>
<span><span class="va">p1</span> <span class="op">+</span> <span class="va">p2</span></span></code></pre></div>
<p><img src="B_ggdibbler-philosophy_files/figure-html/fuzzblur-1.png" class="r-plt" width="960"></p>
<p>The most facinating thing about this is that the emerging aesthetics
feature is what allows <code>ggdibbler</code> to convey multiple sources
of uncertainty at once in a single graphic. Blur makes it more difficult
to read the position of the aesthetics and it is created by uncertainty
in position. Fuzziness makes it difficult to see the size of the
variable, and it is generated from uncertainty in the size. Blur does
not seem to interfere with our ability to see the size, and fuzziness
does not seem to interfere with our ability to read position. This could
turn out to be untrue if tested in a perceptual study, but seems to be a
consistent fact when looking at the examples generated for
<code>ggdibler</code>.</p>
<p>It is important to keep the emergent aesthetics in mind when using
<code>ggdibbler</code>, as explicitly plotting variables to any of the
emergent aesthetics will interfere with the signal suppression process.
It is not uncommon for uncertainty visualisation software to explicitly
map variables to blur, fuzziness or transparency. While this seems like
a sensible approach, these emergent aesthetics throw a bit of a wrench
into this approach. If we have three variables, and one is mapped to
transparency, another to position, and a third to some blurring
aesthetic, then the manually mapped blur will interfere with the
emerging blur (and vice-versa). While we have expressed a desire for
interference in uncertainty visualisation, we want to make it explicit
that the interference should be coming from the variable, not properly
independent variables.</p>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>We hope this explanation of the <code>ggdibbler</code> philosophy was
helpful in understanding and using the package.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Harriet Mason, Dianne Cook, Sarah Goodwin, Susan VanderPlas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
